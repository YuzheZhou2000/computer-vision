# 4. 特征检测与匹配

## 4.1 点和块
点特征可以用来寻找一个不同图像中的对应位置的稀疏集合

优点：可以在出现拥挤/遮挡、大的尺度和方向变化的情况下很好的匹配

获取特征点及其之间的对应关系：主要两种方法：
1. 在第一幅图像中寻找可以使用局部搜索方法来精确跟踪的特征，如相关或者最小二乘（适合图像相近视角或者快速连续拍摄时）
2. 在所有考察的图像中独立检测特征点然后基于局部表观进行匹配（适合存在大量表观变化或者运动）

关键点检测阶段：
1. 特征检测
    
    从每一个图像中寻找能在其他图像中较好匹配的位置


2. 特征描述

    把检测到的关键点周围的每个区域转化成一个更加紧凑和稳定的描述子

3. 特征匹配

    在其他图像中搞笑的搜索可能的匹配候选

4. 特征跟踪

    作为“特征匹配”的一种替代，经常用在视频处理之中
#### SIFT算法

1. 尺度空间极值检测：搜索所有尺度上的图像位置，通过高斯差分函数来识别潜在的对尺度和旋转不变的关键点

    使用尺度空间滤波器，对小的关键点使用小的窗口，大的关键点使用大的窗口（高斯核是唯一可以产生多尺度空间的核函数）

    尺度空间看作原始图像和一个可变尺度的二维高斯函数的卷积运算

2. 关键点定位：在每个候选的位置上，通过一个拟合精细的模型来确定位置和尺度，关键点的选择依据于他们的稳定程度

    局部极值点进行进一步检验，去除噪声和边缘的影响


3. 关键点方向确定：基于图像局部的梯度方向，分配给每个关键点位置一个或者多个方向，所有后面的对图像数据的操作都相对于关键点的方向、尺度和位置进行变换，从而保证了对于这些变换的不变性

    为实现旋转不变性

4. 关键点描述：在每个关键点周围的邻域内，在选定的尺度上测量图像局部的梯度。这些梯度作为关键点的描述符，它允许比较大的局部形状的变形或者光照变化

总之 在图像的不变特征提取方面有优势，但是实时性不高，有的特征点较少，对边缘光滑的目标无法准确提取特征点，SURF算法对其进行了改进

#### Fast算法

解决实时处理问题

原理：取图像中的检测点，以该点为圆心的邻域内像素点判断监测点是不是角点
 
#### ORB算法

#### BRIEF算法

时间和空间代价都很低